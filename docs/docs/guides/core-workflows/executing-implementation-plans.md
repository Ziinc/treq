---
sidebar_position: 3
---

# Executing Implementation Plans

_How to use Treq's plan system to guide development._

Implementation plans are structured markdown documents that outline design decisions, step-by-step tasks, and code examples. They're typically generated by AI assistants but can be written manually. Treq parses plans, displays them alongside your terminal, and lets you create worktrees directly from them.

## Plan Structure

Treq recognizes four section types: **Plan** for overall design and approach, **Implementation Plan** for step-by-step tasks, **Tasks** for specific actionable items, and **Suggestions** for optional improvements. Use `##` headers to denote sections:

```markdown
## Plan
Create a user authentication system using JWT tokens...

## Implementation Plan
1. Set up authentication middleware
2. Create login/logout endpoints
3. Implement token validation

## Tasks
- [ ] Install jsonwebtoken package
- [ ] Create auth utility functions
```

## Creating Plans

The most common workflow uses an AI assistant: describe your task, receive a detailed plan, then paste it into Treq's plan panel. You can also write plans manually using markdown, or load previously saved plans from history. Drag-and-drop `.md` files directly into the plan panel to import them.

## The Plan Panel

The plan panel appears at the bottom of terminal sessions. Toggle it with the **Plan** button in the toolbar or `Cmd+Shift+P`. In display mode, plans render as formatted markdown with syntax highlighting and collapsible sections. Click **Edit** to modify the plan—changes auto-save as you type.

Actions include **Execute** (create a worktree from the plan), **Save** (add to history), **Copy** (clipboard), and **Clear** (remove from view).

## Executing a Plan

When you execute a plan, Treq creates a new worktree, sets the plan title as metadata, opens a terminal session, and displays the plan in the panel. Click **Execute Plan**, review or adjust the pre-filled branch name and base branch in the dialog, then click **Create**. You're ready to implement.

Follow your plan step-by-step, copying and running commands from the plan into your terminal. Update the plan as you go—add checkmarks for completed steps, note any deviations or discoveries, and adjust remaining steps based on what you learn.

## Plan History

Plans save automatically when executed or manually via the **Save** button. Access past plans through the history dialog in the plan panel. Browse by date, search by keywords, and click any plan to load it. Reuse plans as templates for similar tasks—load, edit for new context, then execute.

Plans are stored in `.treq/plans/` as markdown files with accompanying JSON metadata (title, creation date, associated worktree, status).

## Collaboration

Share plans by committing them to a `docs/plans/` directory in your repository, copying to external tools like Notion or Confluence, or including them in PR descriptions so reviewers understand your approach. Create team templates for common tasks (new API endpoints, bug fixes, refactors) to ensure consistency.

## Troubleshooting

If plans don't parse correctly, check that section headers use `##` and code blocks are properly formatted. If you can't execute a plan, ensure one is loaded in the panel and has a title or intent. If the panel isn't showing, click the **Plan** button in the toolbar or check Settings → Interface → Panels.

## Next Steps

- [Staging and Committing](staging-and-committing) — Commit your progress
- [Code Review Workflow](code-review-workflow) — Share plans in reviews
- [Merging Worktrees](merging-worktrees) — Merge completed work
